<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ë‚´ê°€ ë§Œë“  íƒ€ì´ë¨¸~ ë„ˆë¥¼ ìœ„í•´ ë§Œë“¤ì—ˆì§€</title>
        <style>
        /* ëª¨ë‹¬(modal)ì°½ :alert, confirm,prompt ëŒ€ì‹  ì‚¬ìš©í•˜ëŠ” ì‘ì€ ì°½ */
        /* ì²˜ìŒì—ëŠ” modalì„ ì•ˆ ë³´ì´ê²Œ í•˜ê³  3ì´ˆê°€ ì§€ë‚˜ë©´ ì°½ì´ ë³´ì´ë„ë¡í•¨ */
        .modal{
            display: none;
            position: fixed;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0,0,0,0.7);
            /* 4ë²ˆì§¸ ê°’ì€ íˆ¬ëª…ë„ 70% ì„¤ì • */
        }
        .show {
            display: block;
        }
        .modal-content{
            background-color: white;
            margin: 20% auto;
            width: 300px;
            padding: 40px;
            text-align: center;
            border-radius: 8px;
        }
        /* 22timeout.html ì½”ë“œ ì°¸ê³  */
    </style>
</head>
<body>
    <h4 id="now"></h4>
    <hr>
    <h2>íƒ€ì´ë¨¸ ì„¤ì •</h2>
    <div>
        <!-- label gptí•œí…Œ ë¬¼ì–´ë³´ê¸° -->
        <label for="second">ì´ˆ: </label> 
        <input type="number" id="second">
        <button id="startbtn">íƒ€ì´ë¨¸ ì‹œì‘</button>
        <button id="stopbtn">íƒ€ì´ë¨¸ ì •ì§€</button>
    </div>
    <div id="countdown"></div>
     <div id="samplemodal" class="modal">
        <div class="modal-content">
            <h3>ğŸ’£íƒ€ì„ì•„ì›ƒ!ğŸ’£</h3>
            <button id="closebtn">ë‹«ê¸°</button>
        </div>
    <script>
        let timerInterval //íƒ€ì´ë¨¸ ì„¤ì • ì¸í„°ë²Œ í• ë‹¹

        const now = document.getElementById('now')
        now.textContent = new Date()
        // í˜„ì¬ ì‹œê°„ ì¶œë ¥í•˜ê¸°
        window.setInterval(function(){
            now.textContent = new Date()
        },1000)
        const startbtn = document.getElementById('startbtn')
        const stopbtn = document.getElementById('stopbtn')
        function btnToggle(isOff){ //false   /true
            startbtn.disabled = isOff //false  /true
            stopbtn.disabled = !isOff//false  /false
        }
        btnToggle(false) //ì‹œì‘ í™œì„±í™”, ì¤‘ì§€ í™œì„±í™”
        stopbtn.addEventListener('click',function(){
             window.clearInterval(timerInterval)
             btnToggle(false)
        })
        startbtn.addEventListener('click',function(){
            let timeseconds = Number(document.getElementById('second').value) //ìˆ«ìë¥¼ ì…ë ¥
            if(timeseconds <= 0){ //ìˆ«ìê°€ 0ë³´ë‹¤ ì‘ìœ¼ë©´
                alert('0ë³´ë‹¤ í° ì‹œê°„ì„ ì„¤ì •í•˜ì„¸ìš”.')
                return; //í•¨ìˆ˜ ì¢…ë£Œ
            }
            btnToggle(true) //ì‹œì‘ ë¹„í™œì„±í™”, ì¤‘ì§€ í™œì„±í™”
            updatecount(timeseconds)
            timerInterval = window.setInterval(function(){
                timeseconds=timeseconds-1
                if(timeseconds == 0) {
                    // alert('íƒ€ì„ ì•„ì›ƒ')
                    document.getElementById('samplemodal').classList.add('show')
                    window.clearInterval(timerInterval)
                    btnToggle(false)
                }
                    updatecount(timeseconds)
            } ,1000)
        }) //ì‹œì‘ë²„íŠ¼ ë
        function updatecount(timeseconds){
            document.getElementById('countdown').textContent
            // =timesecondsë¥¼ 2ìë¦¬ ë¬¸ìì—´ë¡œ ì¶œë ¥í•˜ê¸°
            =`ë‚¨ì€ì‹œê°„ : ğŸ’£ 00:${timeseconds.toString().padStart(2,'0')}`
            document.getElementById('second').value = timeseconds
        }
        document.getElementById('closebtn').addEventListener('click',function(){
            document.getElementById('samplemodal').classList.remove('show') //í´ë˜ìŠ¤ ì†ì„±ì—ì„œ ì œê±°
        })
    </script>
</body>
</html>